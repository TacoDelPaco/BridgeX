import { Descriptor } from '@abandonware/bleno'
import { IBLECharacteristic } from '../../@types'

export const createWriteOptions = (
  { uuid, name }: IBLECharacteristic,
  onWriteRequest: (data: Buffer, offset: number, withoutResponse: string, callback: void) => void
) => {
  return {
    uuid,
    onWriteRequest,
    properties: [ 'write' ],
    value: null,
    descriptors: [
      new Descriptor({
        uuid: '2901',
        value: name
      }) as unknown
    ]
  }
}
